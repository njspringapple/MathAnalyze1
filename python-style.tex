\usepackage{listings}
\usepackage{xcolor}
\usepackage{xeCJK}

% 设置中文字体
\setCJKmainfont{SimSun}
\setCJKmonofont{SimSun}

\lstdefinestyle{python}{
  language=Python,
  basicstyle=\ttfamily\small,
  keywordstyle=\color[RGB]{0,0,255},
  commentstyle=\color[RGB]{0,128,0},
  stringstyle=\color[RGB]{160,32,240},
  backgroundcolor=\color[RGB]{240,240,240},
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny\color{gray},
  breaklines=true,
  extendedchars=true,
  inputencoding=utf8
}

\lstset{style=python}